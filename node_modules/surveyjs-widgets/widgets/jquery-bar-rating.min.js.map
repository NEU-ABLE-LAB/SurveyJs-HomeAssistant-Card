{"version":3,"file":"widgets/jquery-bar-rating.min.js","mappings":"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","sources":["webpack://surveyjs-widgets/webpack/universalModuleDefinition","webpack://surveyjs-widgets/./src/images/barrating.svg","webpack://surveyjs-widgets/webpack/bootstrap","webpack://surveyjs-widgets/webpack/runtime/define property getters","webpack://surveyjs-widgets/webpack/runtime/hasOwnProperty shorthand","webpack://surveyjs-widgets/webpack/runtime/make namespace object","webpack://surveyjs-widgets/./src/jquery-bar-rating.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"widgets/jquery-bar-rating\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widgets/jquery-bar-rating\"] = factory();\n\telse\n\t\troot[\"widgets/jquery-bar-rating\"] = factory();\n})(self, () => {\nreturn ","module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g><path d=\\\"M12.1,15l-4.6-2.4L2.9,15l0.9-5.1L0,6.3l5.2-0.7L7.5,1l2.3,4.6L15,6.3l-3.8,3.6L12.1,15z\\\"></path></g></svg>\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function init(Survey, $) {\n  const iconId = \"icon-barrating\";\n  const componentName = \"barrating\";\n  Survey.SvgRegistry && Survey.SvgRegistry.registerIconFromSvg(iconId, require('svg-inline-loader?classPrefix!./images/barrating.svg'), \"\");\n  $ = $ || window.$;\n  var widget = {\n    name: componentName,\n    title: \"Bar rating\",\n    iconName: iconId,\n    widgetIsLoaded: function () {\n      return typeof $ == \"function\" && !!$.fn.barrating;\n    },\n    defaultJSON: { choices: [1, 2, 3, 4, 5] },\n    isFit: function (question) {\n      return question.getType() === componentName;\n    },\n    isDefaultRender: true,\n    activatedByChanged: function (activatedBy) {\n      Survey.Serializer.addClass(\n        componentName,\n        [\n          { name: \"hasOther\", visible: false },\n          { name: \"otherText\", visible: false },\n          { name: \"optionsCaption\", visible: false },\n          { name: \"otherErrorText\", visible: false },\n          { name: \"storeOthersAsComment\", visible: false },\n          { name: \"renderAs\", visible: false },\n          { name: \"select2Config\", visible: false },\n        ],\n        null,\n        \"dropdown\"\n      );\n      let registerQuestion = Survey.ElementFactory.Instance.registerCustomQuestion;\n      if(!!registerQuestion) registerQuestion(componentName);\n      Survey.Serializer.addProperty(componentName, {\n        name: \"showValues:boolean\",\n        default: false,\n        category: \"general\",\n      });\n      Survey.Serializer.addProperty(componentName, {\n        name: \"ratingTheme\",\n        category: \"general\",\n        default: \"css-stars\",\n        choices: [\n          \"fontawesome-stars\",\n          \"css-stars\",\n          \"bars-pill\",\n          \"bars-1to10\",\n          \"bars-movie\",\n          \"bars-reversed\",\n          \"bars-horizontal\",\n          \"fontawesome-stars-o\",\n        ],\n      });\n    },\n    afterRender: function (question, el) {\n      var $customSelect;\n      var $questionInput;\n      var contentContainer = $(el).is(\"select\")\n        ? $(el).parent().parent()[0]\n        : $(el).parent()[0];\n      var renderCustomSelect = function () {\n        $customSelect = $(\"<select class='sv-widget-select'></select>\");\n        question.visibleChoices.forEach(function (choice) {\n          $customSelect.append(\n            '<option value=\"{0}\">{1}</option>'.format(choice.value, choice.text)\n          );\n        });\n        $questionInput = $(contentContainer).find(\n          '[id=\"{0}\"]'.format(question.inputId)\n        );\n\n        $questionInput.css(\"display\", \"none\");\n        $questionInput.after($customSelect);\n        $customSelect[0].selectedIndex = -1;\n      };\n      var removeCustomSelect = function () {\n        $questionInput.css(\"display\", \"\");\n        $customSelect.barrating(\"destroy\");\n        $customSelect.remove();\n      };\n      var renderBarrating = function () {\n        $customSelect.barrating(\"show\", {\n          theme: question.ratingTheme,\n          initialRating: question.value,\n          showValues: question.showValues,\n          showSelectedRating: false,\n          readonly: question.isReadOnly,\n          onSelect: function (value, text) {\n            valueChangingByWidget = true;\n            question.value = value;\n            valueChangingByWidget = false;\n          },\n        });\n      };\n      renderCustomSelect();\n      renderBarrating();\n      if (!!$customSelect.parents()[0])\n        $customSelect.parents()[0].style.marginBottom = \"3px\";\n      var valueChangingByWidget = false;\n\n      question.valueChangedCallback = function () {\n        if (\n          !valueChangingByWidget &&\n          $(contentContainer).find(\"select.sv-widget-select\")[0].value !==\n            question.value\n        ) {\n          $(contentContainer)\n            .find(\"select.sv-widget-select\")\n            .barrating(\"set\", question.value);\n        }\n      };\n      question.__barratingOnPropertyChangedCallback = function (\n        sender,\n        options\n      ) {\n        if (options.name === \"ratingTheme\" || options.name === \"showValues\") {\n          $customSelect.barrating(\"destroy\");\n          renderBarrating();\n        }\n      };\n      question.onPropertyChanged.add(\n        question.__barratingOnPropertyChangedCallback\n      );\n      question.readOnlyChangedCallback = function () {\n        removeCustomSelect();\n        renderCustomSelect();\n        renderBarrating();\n      };\n      question.visibleChoicesChangedCallback = function () {\n        renderBarrating();\n      };\n    },\n    willUnmount: function (question, el) {\n      var $contentContainer = $(el).is(\"select\")\n        ? $(el).parent().parent()\n        : $(el).parent();\n      var $el = $contentContainer.find(\"select.sv-widget-select\");\n      $el.barrating(\"destroy\");\n      $el.remove();\n      question.valueChangedCallback = undefined;\n      question.onPropertyChanged.remove(\n        question.__barratingOnPropertyChangedCallback\n      );\n      question.__barratingOnPropertyChangedCallback = undefined;\n    },\n    pdfQuestionType: \"dropdown\",\n  };\n\n  Survey.CustomWidgetCollection.Instance.addCustomWidget(widget, \"customtype\");\n}\n\nif (typeof Survey !== \"undefined\") {\n  init(Survey, window.$);\n}\n\nexport default init;\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","init","Survey","$","iconId","componentName","SvgRegistry","registerIconFromSvg","window","widget","name","title","iconName","widgetIsLoaded","fn","barrating","defaultJSON","choices","isFit","question","getType","isDefaultRender","activatedByChanged","activatedBy","Serializer","addClass","visible","registerQuestion","ElementFactory","Instance","registerCustomQuestion","addProperty","default","category","afterRender","el","$customSelect","$questionInput","contentContainer","is","parent","renderCustomSelect","visibleChoices","forEach","choice","append","format","text","find","inputId","css","after","selectedIndex","renderBarrating","theme","ratingTheme","initialRating","showValues","showSelectedRating","readonly","isReadOnly","onSelect","valueChangingByWidget","parents","style","marginBottom","valueChangedCallback","__barratingOnPropertyChangedCallback","sender","options","onPropertyChanged","add","readOnlyChangedCallback","remove","visibleChoicesChangedCallback","willUnmount","$el","pdfQuestionType","CustomWidgetCollection","addCustomWidget"],"sourceRoot":""}